<md-card>
    <md-card-title>
        <md-card-title-text>
            <span class="md-headline">Personal URLs</span>
        </md-card-title-text>
    </md-card-title>
    <form flex novalidate name="personURLForm[num]"
        ng-submit="personURLForm[num].$valid
        && vm.submitURLs(vm.forms['personURLs'],vm.selectedIndex-2,vm.thisPerson[vm.selectedIndex-2])">
        <md-card-content layout="column" flex>
            <div ng-if="!vm.nothingToShow(vm.currentURLs[vm.selectedIndex-2],'personal_url_id')" layout="column">
                <div ng-repeat="(num,url) in vm.currentURLs[vm.selectedIndex-2] track by $index" layout="column"
                    layout-gt-xs="row">
                    <fieldset flex class="spacer">
                        <div layout="column" layout-gt-md="row">
                            <md-input-container>
                                <label>Type</label>
                                <md-select ng-model="url.url_type_id" aria-label="url_types" name="url_types[num]">
                                    <div class="scrollable">
                                        <md-option ng-repeat="type in vm.urlTypes" ng-value="type.url_type_id">{{type.type_en}}</md-option>
                                    </div>
                                </md-select>
                            </md-input-container>
                            <md-input-container flex>
                                <label>URL (include http://,https://, etc)</label>
                                <input ng-model="url.personal_url" name="url[num]" md-maxlength="200">
                            </md-input-container>
                        </div>
                        <div layout="column" layout-gt-md="row">
                            <md-input-container flex>
                                <label>Short description</label>
                                <input ng-model="url.description" name="url_desc[num]" md-maxlength="200">
                            </md-input-container>
                            <div layout="row" layout-align="start center">
                                <md-button ng-click="vm.removeRows2(vm.currentURLs[vm.selectedIndex-2],$index)" aria-label="Remove"
                                    class="md-icon-button interaction-button">
                                    <md-icon md-svg-src="images/icons/remove_24px.svg"></md-icon>
                                </md-button>
                                <md-button ng-if="$last" ng-click="vm.addRows2(vm.currentURLs[vm.selectedIndex-2],'urls')" aria-label="Add more"
                                    class="md-icon-button interaction-button">
                                    <md-icon md-svg-src="images/icons/add_24px.svg"></md-icon>
                                </md-button>
                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>
            <div ng-if="vm.nothingToShow(vm.currentURLs[vm.selectedIndex-2],'personal_url_id')">
                No data, press + to add
                <md-button ng-click="vm.addRows2(vm.currentURLs[vm.selectedIndex-2], 'urls')"
                    aria-label="Add more" class="md-icon-button interaction-button">
                    <md-icon md-svg-src="images/icons/add_24px.svg"></md-icon>
                </md-button>
            </div>
            <div layout="column" layout-gt-sm="row" layout-align="none center">
                <md-button type="submit" class="button-small md-raised md-primary">
                    Update</md-button>
                <div class="status-message" ng-hide="vm.hideMessage[vm.forms['personURLs']]">
                    <span class="message" ng-class="vm.messageType[vm.forms['personURLs']]">
                        {{vm.updateStatus[vm.forms['personURLs']]}}
                    </span>
                </div>
            </div>
        </md-card-content>
    </form>
</md-card>