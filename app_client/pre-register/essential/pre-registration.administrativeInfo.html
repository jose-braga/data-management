<md-card>
    <md-card-title>
        <md-card-title-text>
            <span class="md-headline">Administrative information</span>
        </md-card-title-text>
    </md-card-title>
    <md-card-content layout="column" flex>
        <div layout="column" layout-gt-xs="row" class="spacer-top">
            <md-input-container>
                <label>FCT association key</label>
                <input required ng-model="vm.thisPerson.administrative_data[0].association_key"
                        name="administrative_association_key">
            </md-input-container>
            <md-input-container>
                <label>CiÃªncia ID</label>
                <input required ng-model="vm.thisPerson.administrative_data[0].ciencia_id"
                        name="administrative_ciencia_id">
            </md-input-container>
        </div>
        <div ng-repeat="(num,office) in vm.thisPerson.administrative_offices track by $index"
                    layout="column">
            <fieldset class="spacer">
                <div layout="column" layout-gt-sm="row">
                    <md-input-container
                        class="search-box select-container input-row">
                        <label>Office</label>
                        <md-select disabled ng-model="vm.thisPerson.administrative_offices[num].adm_office_id"
                                    name="administrative_office_id[num]">
                            <md-option ng-repeat="off in vm.administrativeOffices"
                                ng-value="off.id">{{off.name_en}}</md-option>
                        </md-select>
                    </md-input-container>
                    <md-input-container
                        class="search-box select-container input-row">
                        <label>Unit</label>
                        <md-select disabled ng-model="vm.thisPerson.administrative_offices[num].unit_id"
                                    name="administrative_unit_id[num]">
                            <md-option ng-repeat="unit in vm.units"
                                ng-value="unit.id">{{unit.short_name}}</md-option>
                        </md-select>
                    </md-input-container>
                </div>
                <div layout="column" layout-gt-xs="row">
                    <md-input-container>
                        <label>Dedication (%)</label>
                        <input disabled ng-model="vm.thisPerson.administrative_offices[num].adm_dedication"
                                name="administrative_dedication[num]" dedication-validate>
                    </md-input-container>
                    <md-input-container>
                        <label>Position</label>
                        <md-select disabled ng-model="vm.thisPerson.administrative_offices[num].adm_position_id"
                                name="administrative_position[num]">
                            <md-option ng-repeat="pos in vm.administrativePositions" ng-value="pos.id">{{pos.name_en}}</md-option>
                        </md-select>
                    </md-input-container>
                </div>
                <div layout="column" layout-gt-xs="row">
                    <md-input-container class="input-row-longer">
                        <label>Start</label>
                        <md-datepicker disabled md-current-view="year" required ng-model="vm.thisPerson.administrative_offices[num].adm_valid_from"
                                name="administrative_start[num]" md-placeholder="Enter date"></md-datepicker>
                    </md-input-container>
                    <md-input-container class="input-row-longer">
                        <label>End</label>
                        <md-datepicker disabled md-current-view="year" ng-model="vm.thisPerson.administrative_offices[num].adm_valid_until"
                                md-min-date="vm.thisPerson.administrative_offices[num].adm_valid_from"
                                name="administrative_end[num]"
                                md-placeholder="Enter date"></md-datepicker>
                    </md-input-container>
                </div>
            </fieldset>
        </div>
        <div ng-if="vm.nothingToShow(vm.thisPerson.administrative_offices)" layout="column">
            <br><br>No affiliations to administrative offices reported
        </div>
    </md-card-content>
</md-card>