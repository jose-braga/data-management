<div layout="row">
    <navigation-column></navigation-column>
    <div ng-if="!vm.accessPermission" layout="column" flex>
        <md-content class='md-padding' flex>
            Make sure you have the appropriate permissions to access this page.
        </md-content>
    </div>
    <div ng-if="vm.accessPermission" layout="column" flex>
        <div class="admin-message" ng-if="vm.adminMessage" layout-align layout="column">
            <div class="my-toast my-button" ng-click="vm.deleteAdminMessages()" layout="column">
                    <div layout="row"><span>Hide all warnings</span><span class="bold">X</span></div>
            </div>
            <div class="my-toast" ng-repeat="message in vm.listAdminMessages" layout="column">
                    <span class="sender-identification">({{message.time}}) Admin says:</span>
                    <span class="sender-message">{{message.msg}}</span>
            </div>
        </div>
        <toolbar-row></toolbar-row>
        <md-tabs md-dynamic-height md-border-bottom>
            <md-tab label="Present Labs">
                <md-tabs md-dynamic-height md-border-bottom>
                    <md-tab ng-if="vm.show('labs')" ng-repeat="lab in vm.personLab"
                            label="{{lab.lab | limitTo : 10}}...@{{lab.group_name | limitTo : 10}}...">
                        <md-content>
                            <div layout="row" layout-padding>
                                <team-people-lab-presentation
                                    data-lab="{{lab.lab_id}}"
                                    data-group="{{lab.group_id}}"
                                    flex>
                                </team-people-lab-presentation>
                            </div>
                        </md-content>
                    </md-tab>
                    <md-tab ng-if="vm.show('labs')" ng-repeat="lab in vm.personLab"
                            label="Prod. {{ lab.lab | limitTo : 10 }}...@{{lab.group_name | limitTo : 10}}...">
                        <md-tabs md-selected="vm.selectedIndexPublications" md-dynamic-height md-border-bottom>
                            <md-tab label='Publications'>
                                <md-content>
                                    <div layout="row" layout-padding>
                                        <team-lab-publications
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-lab-publications>
                                    </div>
                                    <div layout="row" layout-padding>
                                        <team-members-publications
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-members-publications>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label='Communications'>
                                <md-content>
                                    <div layout="row" layout-padding>
                                        <team-lab-communications
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-lab-communications>
                                    </div>
                                    <div layout="row" layout-padding>
                                        <team-members-communications
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                        flex>
                                        </team-members-communications>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label='Funding'>
                                <md-content>
                                    <div style="padding-left: 20px; padding-top: 10px;">
                                        There are 3 sections in this tab:
                                        <ol>
                                            <li><a ng-click="vm.gotoSection('projects-card')" href="" >Projects</a></li>
                                            <li><a ng-click="vm.gotoSection('agreements-card')" href="">Agreements with private entities</a></li>
                                            <li><a ng-click="vm.gotoSection('trainings-card')" href="">Training networks</a></li>
                                        </ol>
                                    </div>
                                    <div id="projects-card">
                                        <div layout="row" layout-padding>
                                            <team-lab-projects
                                                data-lab="{{lab.lab_id}}"
                                                data-group="{{lab.group_id}}"
                                                flex>
                                            </team-lab-projects>
                                        </div>

                                        <div layout="row" layout-padding>
                                            <team-members-projects
                                                data-lab="{{lab.lab_id}}"
                                                data-group="{{lab.group_id}}"
                                            flex>
                                            </team-members-projects>
                                        </div>
                                    </div>
                                    <div id="agreements-card">
                                        <div layout="row" layout-padding>
                                            <team-lab-agreements
                                                data-lab="{{lab.lab_id}}"
                                                data-group="{{lab.group_id}}"
                                                flex>
                                            </team-lab-agreements>
                                        </div>

                                        <div layout="row" layout-padding>
                                            <team-members-agreements
                                                data-lab="{{lab.lab_id}}"
                                                data-group="{{lab.group_id}}"
                                            flex>
                                            </team-members-agreements>
                                        </div>
                                    </div>
                                    <div id="trainings-card">
                                        <div layout="row" layout-padding>
                                            <team-lab-trainings
                                                data-lab="{{lab.lab_id}}"
                                                data-group="{{lab.group_id}}"
                                                flex>
                                            </team-lab-trainings>
                                        </div>

                                        <div layout="row" layout-padding>
                                            <team-members-trainings
                                                data-lab="{{lab.lab_id}}"
                                                data-group="{{lab.group_id}}"
                                            flex>
                                            </team-members-trainings>
                                        </div>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label='Patents'>
                                <md-content>
                                    <div layout="row" layout-padding>
                                        <team-lab-patents
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-lab-patents>
                                    </div>
                                    <div layout="row" layout-padding>
                                        <team-members-patents
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                        flex>
                                        </team-members-patents>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label='Prizes'>
                                <md-content>
                                    <div layout="row" layout-padding>
                                        <team-lab-prizes
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-lab-prizes>
                                    </div>
                                    <div layout="row" layout-padding>
                                        <team-members-prizes
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                        flex>
                                        </team-members-prizes>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label='Startups'>
                                <md-content>
                                    <div layout="row" layout-padding>
                                        <team-lab-startups
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-lab-startups>
                                    </div>
                                    <div layout="row" layout-padding>
                                        <team-members-startups
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                        flex>
                                        </team-members-startups>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label='Boards'>
                                <md-content>
                                    <div layout="row" layout-padding>
                                        <team-lab-boards
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-lab-boards>
                                    </div>
                                    <div layout="row" layout-padding>
                                        <team-members-boards
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                        flex>
                                        </team-members-boards>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label='Datasets'>
                                <md-content>
                                    <div layout="row" layout-padding>
                                        <team-lab-datasets
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-lab-datasets>
                                    </div>
                                    <div layout="row" layout-padding>
                                        <team-members-datasets
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                        flex>
                                        </team-members-datasets>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label='Outreach'>
                                <md-content>
                                    <div layout="row" layout-padding>
                                        <team-lab-outreaches
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-lab-outreaches>
                                    </div>
                                    <div layout="row" layout-padding>
                                        <team-members-outreaches
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                        flex>
                                        </team-members-outreaches>
                                    </div>
                                </md-content>
                            </md-tab>
                        </md-tabs>
                    </md-tab>
                </md-tabs>
            </md-tab>
            <md-tab label="Past Labs">
                <md-tabs md-dynamic-height md-border-bottom>
                    <md-tab ng-if="vm.show('labs')" ng-repeat="lab in vm.pastLab"
                            label="{{lab.lab | limitTo : 10}}...@{{lab.group_name | limitTo : 10}}...">
                        <md-content>
                            <div layout="row" layout-padding>
                                <team-people-lab-presentation
                                    data-lab="{{lab.lab_id}}"
                                    data-group="{{lab.group_id}}"
                                    flex>
                                </team-people-lab-presentation>
                            </div>
                        </md-content>
                    </md-tab>
                    <md-tab ng-if="vm.show('labs')" ng-repeat="lab in vm.pastLab"
                            label="Prod. {{ lab.lab | limitTo : 10 }}...@{{lab.group_name | limitTo : 10}}...">
                        <md-tabs md-selected="vm.selectedIndexPublications" md-dynamic-height md-border-bottom>
                            <md-tab label='Publications'>
                                <md-content>
                                    <div layout="row" layout-padding>
                                        <team-lab-publications
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-lab-publications>
                                    </div>
                                    <div layout="row" layout-padding>
                                        <team-members-publications
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-members-publications>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label='Communications'>
                                <md-content>
                                    <div layout="row" layout-padding>
                                        <team-lab-communications
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-lab-communications>
                                    </div>
                                    <div layout="row" layout-padding>
                                        <team-members-communications
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                        flex>
                                        </team-members-communications>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label='Funding'>
                                <md-content>
                                    <div style="padding-left: 20px; padding-top: 10px;">
                                        There are 3 sections in this tab:
                                        <ol>
                                            <li><a ng-click="vm.gotoSection('projects-card')" href="" >Projects</a></li>
                                            <li><a ng-click="vm.gotoSection('agreements-card')" href="">Agreements with private entities</a></li>
                                            <li><a ng-click="vm.gotoSection('trainings-card')" href="">Training networks</a></li>
                                        </ol>
                                    </div>
                                    <div id="projects-card">
                                        <div layout="row" layout-padding>
                                            <team-lab-projects
                                                data-lab="{{lab.lab_id}}"
                                                data-group="{{lab.group_id}}"
                                                flex>
                                            </team-lab-projects>
                                        </div>

                                        <div layout="row" layout-padding>
                                            <team-members-projects
                                                data-lab="{{lab.lab_id}}"
                                                data-group="{{lab.group_id}}"
                                            flex>
                                            </team-members-projects>
                                        </div>
                                    </div>
                                    <div id="agreements-card">
                                        <div layout="row" layout-padding>
                                            <team-lab-agreements
                                                data-lab="{{lab.lab_id}}"
                                                data-group="{{lab.group_id}}"
                                                flex>
                                            </team-lab-agreements>
                                        </div>

                                        <div layout="row" layout-padding>
                                            <team-members-agreements
                                                data-lab="{{lab.lab_id}}"
                                                data-group="{{lab.group_id}}"
                                            flex>
                                            </team-members-agreements>
                                        </div>
                                    </div>
                                    <div id="trainings-card">
                                        <div layout="row" layout-padding>
                                            <team-lab-trainings
                                                data-lab="{{lab.lab_id}}"
                                                data-group="{{lab.group_id}}"
                                                flex>
                                            </team-lab-trainings>
                                        </div>

                                        <div layout="row" layout-padding>
                                            <team-members-trainings
                                                data-lab="{{lab.lab_id}}"
                                                data-group="{{lab.group_id}}"
                                            flex>
                                            </team-members-trainings>
                                        </div>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label='Patents'>
                                <md-content>
                                    <div layout="row" layout-padding>
                                        <team-lab-patents
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-lab-patents>
                                    </div>
                                    <div layout="row" layout-padding>
                                        <team-members-patents
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                        flex>
                                        </team-members-patents>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label='Prizes'>
                                <md-content>
                                    <div layout="row" layout-padding>
                                        <team-lab-prizes
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-lab-prizes>
                                    </div>
                                    <div layout="row" layout-padding>
                                        <team-members-prizes
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                        flex>
                                        </team-members-prizes>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label='Startups'>
                                <md-content>
                                    <div layout="row" layout-padding>
                                        <team-lab-startups
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-lab-startups>
                                    </div>
                                    <div layout="row" layout-padding>
                                        <team-members-startups
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                        flex>
                                        </team-members-startups>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label='Boards'>
                                <md-content>
                                    <div layout="row" layout-padding>
                                        <team-lab-boards
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-lab-boards>
                                    </div>
                                    <div layout="row" layout-padding>
                                        <team-members-boards
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                        flex>
                                        </team-members-boards>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label='Datasets'>
                                <md-content>
                                    <div layout="row" layout-padding>
                                        <team-lab-datasets
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-lab-datasets>
                                    </div>
                                    <div layout="row" layout-padding>
                                        <team-members-datasets
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                        flex>
                                        </team-members-datasets>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label='Outreach'>
                                <md-content>
                                    <div layout="row" layout-padding>
                                        <team-lab-outreaches
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                            flex>
                                        </team-lab-outreaches>
                                    </div>
                                    <div layout="row" layout-padding>
                                        <team-members-outreaches
                                            data-lab="{{lab.lab_id}}"
                                            data-group="{{lab.group_id}}"
                                        flex>
                                        </team-members-outreaches>
                                    </div>
                                </md-content>
                            </md-tab>
                        </md-tabs>
                    </md-tab>
                </md-tabs>
            </md-tab>
            <md-tab ng-if="vm.show('techOffices')" ng-repeat="office in vm.personTech"
                    label={{office.tech_office_name_en}}@{{office.tech_unit_short_name}}>
                <md-content>
                    <div layout="row" layout-padding>
                        <team-people-tech-office-presentation
                                data-office="{{office.tech_office_id}}"
                                data-unit="{{office.tech_unit_id}}"
                                flex>
                        </team-people-tech-office-presentation>
                    </div>
                </md-content>
            </md-tab>
            <md-tab ng-if="vm.show('scManOffices')" ng-repeat="office in vm.personScMan"
                    label={{office.sc_man_office_name_en}}@{{office.sc_man_unit_short_name}}>
                <md-content>
                    <div layout="row" layout-padding>
                        <team-people-sc-man-office-presentation
                                data-office="{{office.sc_man_office_id}}"
                                data-unit="{{office.sc_man_unit_id}}"
                                flex>
                        </team-people-sc-man-office-presentation>
                    </div>
                </md-content>
            </md-tab>
            <md-tab ng-if="vm.show('admOffices')" ng-repeat="office in vm.personAdm"
                    label={{office.adm_office_name_en}}@{{office.adm_unit_short_name}}>
                <md-content>
                    <div layout="row" layout-padding>
                        <team-people-adm-office-presentation
                                data-office="{{office.adm_office_id}}"
                                data-unit="{{office.adm_unit_id}}"
                                flex>
                        </team-people-adm-office-presentation>
                    </div>
                </md-content>
            </md-tab>

            <!--
            <md-tab label='Spaces'>
                <md-content>
                    <div layout="row" layout-padding>

                    </div>
                </md-content>
            </md-tab>
            -->
            <md-tab label="Pre-register">
                <md-content>
                    <team-pre-register-member></team-pre-register-member>
                </md-content>
            </md-tab>
        </md-tabs>
    </div>
</div>